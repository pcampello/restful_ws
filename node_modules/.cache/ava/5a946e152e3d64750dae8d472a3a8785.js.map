{"version":3,"sources":["categories.test.js"],"names":["test","require","config","mysqlServer","connection","createConnection","host","process","env","MYSQL_HOST","user","MYSQL_USER","password","MYSQL_PASSWORD","database","MYSQL_TEST_DATABASE","errorHandler","error","msg","rejectFunction","console","categories","t","result","save","is","category","name"],"mappings":";;AACA,MAAMA,OAAOC,QAAQ,KAAR,CAAb;;AAEAA,QAAQ,QAAR,EAAkBC,MAAlB;;AAEA,MAAMC,cAAcF,QAAQ,OAAR,CAApB;;AAEA,MAAMG,aAAaD,YAAYE,gBAAZ,CAA6B;;AAE/CC,OAAMC,QAAQC,GAAR,CAAYC,UAF6B;AAG/CC,OAAMH,QAAQC,GAAR,CAAYG,UAH6B;AAI/CC,WAAUL,QAAQC,GAAR,CAAYK,cAJyB;AAK/CC,WAAUP,QAAQC,GAAR,CAAYO;;AALyB,CAA7B,CAAnB;;AASA,MAAMC,eAAe,CAACC,KAAD,EAAQC,GAAR,EAAaC,cAAb,KAAgC;AACpDC,SAAQH,KAAR,CAAcA,KAAd;AACAE,gBAAe,EAAEF,OAAOC,GAAT,EAAf;AACA,CAHD;;AAKA,MAAMG,aAAapB,QAAQ,eAAR,EAAyB,EAAEG,UAAF,EAAcY,YAAd,EAAzB,CAAnB;;AAEAhB,KAAK,sBAAL,EAA6B,MAAMsB,CAAN,IAAW;AACvC,OAAMC,SAAS,MAAMF,WAAWG,IAAX,CAAgB,eAAhB,CAArB;AACAF,GAAEG,EAAF,CAAKF,OAAOG,QAAP,CAAgBC,IAArB,EAA2B,eAA3B;AACA,CAHD","file":"categories.test.js","sourcesContent":["\nconst test = require('ava')\n\nrequire('dotenv').config()\n\nconst mysqlServer = require('mysql')\n\nconst connection = mysqlServer.createConnection({\n\n\thost: process.env.MYSQL_HOST,\n\tuser: process.env.MYSQL_USER,\n\tpassword: process.env.MYSQL_PASSWORD,\n\tdatabase: process.env.MYSQL_TEST_DATABASE\n\n})\n\nconst errorHandler = (error, msg, rejectFunction) => {\n\tconsole.error(error)\n\trejectFunction({ error: msg })\n}\n\nconst categories = require('../categories')({ connection, errorHandler })\n\ntest('Criação de categoria', async t => {\n\tconst result = await categories.save('category-test')\n\tt.is(result.category.name, 'category-test')\n})\n"]}